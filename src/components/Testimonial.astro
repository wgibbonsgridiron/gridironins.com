---
import StarRating from './StarRating.astro';

interface Props {
  rating?: number;
  quote: string;
  name: string;
  title: string;
  initials?: string;
  delay?: 0 | 100 | 200 | 300;
  class?: string;
}

const {
  rating = 5,
  quote,
  name,
  title,
  initials,
  delay = 0,
  class: className = ''
} = Astro.props;

const delayClass = delay > 0 ? `delay-${delay}` : '';
const displayInitials = initials || name.split(' ').map(n => n[0]).join('');
---

<div class={`fade-in ${delayClass} p-8 rounded-2xl bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 hover:shadow-xl hover:border-brand-300 dark:hover:border-brand-600 transition-all ${className}`}>
  <StarRating rating={rating} class="mb-4" />
  <p class="text-slate-700 dark:text-slate-300 mb-6 italic leading-relaxed">
    "{quote}"
  </p>
  <div class="flex items-center gap-3">
    <div class="w-12 h-12 rounded-full bg-gradient-to-br from-brand-500 to-brand-700 flex items-center justify-center text-white font-bold">
      {displayInitials}
    </div>
    <div>
      <div class="font-semibold text-slate-900 dark:text-white">{name}</div>
      <div class="text-sm text-slate-600 dark:text-slate-400">{title}</div>
    </div>
  </div>
</div>
